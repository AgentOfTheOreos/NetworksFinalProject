# Traffic Characteristics Analysis Project

## Overview

This project investigates the traffic characteristics of everyday applications—such as emailing, web surfing, audio/video streaming, and video conferencing—to understand how network traffic metadata can be used both for performance optimization and potentially by attackers to infer user activity. In particular, we analyze:

- **IP header fields**
- **TCP header fields**
- **TLS header fields**
- **Packet sizes**
- **Packet inter-arrival times**
- **Flow size** (total number of packets)
- **Flow volume** (total number of bytes transmitted)

The project is divided into three parts:

1. **Background & Analysis Questions:** We discuss transport layer issues, TCP flow control, routing, and Multi-path TCP (MPTCP) based on given scenarios.
2. **Literature Review:** We summarize and analyze three research papers related to encrypted traffic classification.
3. **Traffic Capture & Analysis:** We capture network traffic from different applications, analyze header information and packet characteristics using Python, and simulate an attacker's ability to fingerprint app usage even when traffic is encrypted or anonymized.

## Directory Structure

.
├── PCAPNGs                    # Folder containing .pcapng files (network capture files)
├── PCAPAnalyzer.py            # Python script for analyzing headers and visualizing traffic metrics using PyShark
├── PCAPAnalyzerBonus.py       # Python script for simulating an attacker (analyzing packet sizes, timestamps, and flow hashes)
├── header_analysis_results    # Output folder for visualizations and CSV summary from PCAPAnalyzer.py
├── README.md                  # This file
└── report.pdf                 # Final report with research answers, literature review, and discussion

## Prerequisites

Ensure you have **Python 3.x** installed (the scripts have been tested on a clean Linux environment). The following Python packages are required:

- `pyshark`
- `pandas`
- `matplotlib`
- `scapy`
- `numpy`

Install the packages using pip:

```bash
pip install pyshark pandas matplotlib scapy numpy
```

## Running the Project

### 1. Traffic Capture

- Use Wireshark to capture your PC's traffic.
- Record sessions with one application at a time (e.g., web surfing with Chrome, web surfing with Edge, Spotify for audio streaming, YouTube for video streaming, and Zoom for video conferencing).
- Save the captures as `.pcapng` files.
- Place the `.pcapng` files in the `PCAPNGs` directory.

### 2. Header Analysis and Visualization

The `PCAPAnalyzer.py` script extracts IP, TCP, and TLS header fields along with packet sizes, and then generates various visualizations and a CSV summary.

To run the script, simply execute:

```bash
python PCAPAnalyzer.py
```

The script will:

- Read all `.pcapng` files from the `PCAPNGs` folder.
- Analyze header fields and packet sizes.
- Create and save plots (e.g., packet size distribution, IP TTL distribution, TCP window size distribution, TLS version distribution) in the `header_analysis_results` folder.
- Generate a CSV file (`header_statistics.csv`) summarizing the analysis.

### 3. Attacker Simulation Analysis

The `PCAPAnalyzerBonus.py` script simulates an attacker’s view by extracting packet sizes, timestamps, and (when available) flow identifiers (a hash of the 4-tuple). The results will be located in the `PCAPNGs/Bonus` directory of the project.

To run the script, execute:

```bash
python PCAPAnalyzerBonus.py
```

This analysis helps determine to what extent an attacker could infer which app or website was accessed—even if the traffic is fully encrypted or anonymized.

## Final Report

The final project report (`report.pdf`) includes:

- Detailed answers to the background questions regarding transport layer performance, TCP flow control, routing, MPTCP, and packet loss.
- A literature review of the provided research papers, including their main contributions, novel traffic features, and key results.
- Explanations of the visualizations generated by the scripts (e.g., which apps produce larger packets or unique traffic patterns).
- A discussion on the feasibility of attacker fingerprinting and proposed mitigation strategies (e.g., packet padding, traffic shaping, tunneling).

## Linked-in Profiles

- Alaa Aldeen Abu Hegleh - https://www.linkedin.com/in/alaa-aldeen-abu-hegleh-339619119/
- David Kitinberg - https://www.linkedin.com/in/david-kitinberg-744933227/
- Yoav Peretz - https://www.linkedin.com/in/yoav-peretz-177603353/


## Contact

For any questions or further information, please contact the main director of the project:

**Alaa Aldeen Abu Hegly**
Email: alaasalah142@gmail.com
